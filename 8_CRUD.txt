





Duplicate
get_or_create() และ update_or_create() เป็น method ใน Django ORM ที่ช่วยในการจัดการข้อมูลในฐานข้อมูลโดยมีพฤติกรรมต่างกันดังนี้:

get_or_create(): ใช้สำหรับการเรียกดึงข้อมูลจากฐานข้อมูล หากไม่พบข้อมูลที่ตรงกับเงื่อนไขที่กำหนดไว้ จะทำการสร้างข้อมูลใหม่ตามเงื่อนไขที่กำหนด

update_or_create(): ใช้สำหรับการอัพเดตข้อมูลในฐานข้อมูลหากพบว่าข้อมูลที่ตรงกับเงื่อนไขที่กำหนดไว้ และหากไม่พบข้อมูล จะทำการสร้างข้อมูลใหม่ตามเงื่อนไขที่กำหนด

การเลือกใช้ว่า get_or_create() หรือ update_or_create() ขึ้นอยู่กับลักษณะการใช้งานและความต้องการของแต่ละสถานการณ์ดังนี้:

get_or_create(): ใช้เมื่อต้องการดึงข้อมูลมาใช้งาน และหากข้อมูลไม่มีอยู่จะทำการสร้างข้อมูลใหม่

update_or_create(): ใช้เมื่อต้องการทำการอัพเดตข้อมูลถ้ามีอยู่แล้วหรือสร้างข้อมูลใหม่ถ้ายังไม่มีในฐานข้อมูล

ดังนั้น เมื่อเราใช้ get_or_create() จะเห็นว่ามันถูกสร้างขึ้นเมื่อไม่พบข้อมูลที่ตรงกับเงื่อนไขที่กำหนดไว้ ในขณะที่ update_or_create() จะทำการอัพเดตหรือสร้างข้อมูลตามเงื่อนไขที่กำหนดทันทีที่ method ถูกเรียกใช้งาน